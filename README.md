# üìò README ‚Äî –≠–∫—Å–ø–æ—Ä—Ç –∞–Ω–∏–º–∞—Ü–∏–π –∏–∑ Adobe Animate –≤ Onion Runtime (Defold)

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∫–æ—Ä–æ—Ç–∫–∏–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∞–Ω–∏–º–∞—Ü–∏–π –≤ **Adobe Animate**, —ç–∫—Å–ø–æ—Ä—Ç –≤ —Ñ–æ—Ä–º–∞—Ç Onion, –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é –≤ –±–∏–Ω–∞—Ä–Ω—ã–µ `.onionanim` / `.onionsymbol` –∏ –∏–º–ø–æ—Ä—Ç –≤ **Defold**.

---

# üöÄ 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ JSFL-—Å–∫—Ä–∏–ø—Ç–æ–≤

–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–∞–ø–∫–∏:

- `Commands/`
- `Onion/`

–≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é Adobe Animate:

### **macOS**
```
~/Library/Application Support/Adobe/Animate
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤ Animate –ø–æ—è–≤–∏—Ç—Å—è –º–µ–Ω—é:

```
Commands ‚Üí Onion_Export
```

---

# üé® 2. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Adobe Animate

–í **Library** –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞—Ç—å **—Å—Ç—Ä–æ–≥–æ —Ç–∞–∫–∏–µ –ø–∞–ø–∫–∏**:

```
ANIMATIONS
EXPORT_ANIMATIONS
EXPORT_SYMBOLS
EXTERNAL_SYMBOLS
GRAPHICS
MOVIE
```

## üìå 2.1 –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –≥—Ä–∞—Ñ–∏–∫–∏

1. –í –ø–∞–ø–∫—É **GRAPHICS** –ø–æ–ª–æ–∂–∏—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.
2. –î–ª—è –∫–∞–∂–¥–æ–π –≥—Ä–∞—Ñ–∏–∫–∏ —Å–æ–∑–¥–∞—Ç—å **Symbol ‚Üí Graphic**.
3. –í–Ω—É—Ç—Ä–∏ —Å–∏–º–≤–æ–ª–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–≤–∞ —Å–ª–æ—è:
   - `graphics` ‚Äî —Å–∞–º–∞ –≥—Ä–∞—Ñ–∏–∫–∞
   - `FRAME` ‚Äî —Å–ª–æ–π —Å —Ç–∏–ø–æ–º **Guide**
4. –≠—Ç–∏ graphic-—Å–∏–º–≤–æ–ª—ã –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ **EXPORT_SYMBOLS**.

---

# üé¨ 3. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–π

1. –í –ø–∞–ø–∫—É **EXPORT_ANIMATIONS** –ø–µ—Ä–µ—Ç–∞—â–∏—Ç—å –Ω—É–∂–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –∏–∑ `EXPORT_SYMBOLS`.
2. –ê–Ω–∏–º–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫ –æ–±—ã—á–Ω–æ.

–í–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–≥–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º–æ–≥–æ MovieClip –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **–¥–≤–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö —Å–ª–æ—è**:

- **ENTITY** ‚Äî Label —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º —Å—É—â–Ω–æ—Å—Ç–∏  
- **ANIMATION** ‚Äî Label —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∞–Ω–∏–º–∞—Ü–∏–∏  

–û–±–∞ —Å–ª–æ—è –¥–æ–ª–∂–Ω—ã –¥–ª–∏—Ç—å—Å—è –¥–æ –∫–æ–Ω—Ü–∞ –≤—Å–µ–π –∞–Ω–∏–º–∞—Ü–∏–∏.

---

# üì§ 4. –≠–∫—Å–ø–æ—Ä—Ç –∏–∑ Animate

–û—Ç–∫—Ä—ã—Ç—å:

```
Commands ‚Üí Onion_Export
```

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:

- Symbol Group Name ‚Äî –æ–±—ã—á–Ω–æ –∏–º—è —Ñ–∞–π–ª–∞
- Vector Graphics Prefix ‚Äî —Ç–æ –∂–µ
- ‚úì Export PNG
- ‚úì Export symbols uses in animations

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –±—É–¥—É—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã:

```
animations.json
symbols.json
```

---

# üîß 5. –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è JSON ‚Üí Onion –±–∏–Ω–∞—Ä–Ω–∏–∫–æ–≤

–ü–µ—Ä–µ–π—Ç–∏ –≤:

```
tools/animate_export_support
```

### **–ê–Ω–∏–º–∞—Ü–∏–∏**
```
python convert_animations.py -i data_for_export/animations.json -o data_for_export/animations.onionanim
```

### **–°–∏–º–≤–æ–ª—ã**
```
python convert_symbols.py -i data_for_export/symbols.json -o data_for_export/symbols.onionsymbol
```

---

# üß© 6. –ò–º–ø–æ—Ä—Ç –≤ Defold

–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª:

```
*.onion.scene
```

–£–∫–∞–∑–∞—Ç—å –≤ –Ω—ë–º:

- –ø—É—Ç—å –∫ `animations.onionanim`
- –ø—É—Ç—å –∫ `symbols.onionsymbol`
- –ø—É—Ç—å –∫ –∞—Ç–ª–∞—Å—É PNG-–≥—Ä–∞—Ñ–∏–∫–∏

–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç **Onion Model** –∏ –Ω–∞–∑–Ω–∞—á–∏—Ç—å —Å—Ü–µ–Ω—É.

---

# ‚ñ∂ 7. –ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏

```lua
local model_url = "#onionmodel"
onion.set_entity(model_url, "entity_name")
onion.set_symbol_group(model_url, "symbol_group_name")
onion.play_animation(model_url, "loop", go.PLAYBACK_LOOP_PINGPONG, { offset = 0.8 })
```

---
